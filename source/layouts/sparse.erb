<%# Sparse Layout Template - Datica, 2017. for debugging JS %>
<!DOCTYPE html>
<html lang="en">
    <head>
        <% if build? %><%= partial "partials/scripts/google-tm-head" %><% end %>
        <%# Meta tags %>
        <%= partial "partials/head/tags" %>
        <%# Icons %>
        <%= partial "partials/head/icons" %>
        <%# Assets %>
        <%= stylesheet_link_tag "seldon" %>
        <% if current_page.data.has_key?("customCSS") %>
            <%= stylesheet_link_tag "views/"+current_page.data.customCSS %>
        <% end %>
    </head>
    <% if build? %><%= partial "partials/scripts/google-tm-body" %><% end %>
    <body class="<%= page_classes %>">
        <%#= partial "partials/snippets/alert-ribbon" %>
        <%= yield %>
        <%= partial "partials/snippets/footer" %>
        <%#= partial "partials/scripts/footer" %>
        <%= javascript_include_tag "svg-injector" %>
        <script>
            document.addEventListener("DOMContentLoaded", function(event) {
                var mySVGsToInject = document.querySelectorAll('img.inject-me');
                SVGInjector(mySVGsToInject);
            });
        </script>
        <%= javascript_include_tag "jquery" %>
        <%= javascript_include_tag "foundation.min" %>
        <%= javascript_include_tag "cookie", "sharer", "all" %>

        <%# Custom JS files %>
        <% if current_page.data.has_key?("customJS") %>
            <% current_page.data.customJS.split(",").each do |filename| %>
                <script src="<%= filename.strip %>"></script>
            <% end %>
        <% end %>
    </body>
</html>
